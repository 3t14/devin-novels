# 第5章：『技術的負債』- 積み重なる負の遺産

　「また障害報告です」

　システム開発部の山田優子は、疲れた表情でモニターを見つめていた。今週3度目の本番システム障害。今回は、住民税システムのバッチ処理が異常終了したという。

　「原因は？」

　隣で作業していた藤田が声をかける。

　「レガシーシステムとの連携部分ね」山田はため息をつく。「文字コード変換のバッファオーバーフローが...」

　「またですか」

　高橋美咲が近づいてきた。「先週の年金システムの障害も、同じような原因でしたよね」

　「ええ。でも、根本的な原因は別のところにあるわ」

　山田はホワイトボードに立ち、図を描き始めた。

　「見て。これが現在のシステム構成図」

　複雑に入り組んだ矢印が、ボードいっぱいに広がっていく。

　「30年の歴史で、システムは継ぎ足しに継ぎ足しを重ねてきた。COBOLで書かれた基幹システム、Javaで追加された新機能、PHPのWeb画面...」

　「まるで、考古学の発掘現場みたいですね」藤田が苦笑する。

　「そう。そして、それぞれの層で異なる文字コード、異なるデータ形式が使われている。UTF-8、Shift-JIS、EUC...」

　「技術的負債ですね」高橋が呟く。

　「正確には、複利で膨らみ続ける負債ね」

　山田は続きを描く。

　「各層の間には、データ変換用のブリッジプログラムが存在する。でも、それぞれが場当たり的に作られた。ドキュメントも不十分で...」

　「だから、一箇所を修正すると、別の場所で不具合が...」

　「そう。しかも、このブリッジプログラムを作った人たちの多くは、もう会社を去っている」

　会議室に重い空気が流れる。

　「でも」藤田が声を上げる。「これは、むしろチャンスかもしれません」

　「チャンス？」

　「はい。デジタル庁の標準化に合わせて、システムを再構築する。その過程で、技術的負債も一掃できる」

　「理想論ね」山田は苦笑する。「でも、どうやって？」

　藤田はホワイトボードに歩み寄り、新しい図を描き始めた。

　「まず、既存システムをコンテナ化します。Docker使って、それぞれの環境を完全に分離。同時に、新しいマイクロサービスを...」

　「待って」高橋が遮る。「その方法だと、テストが...」

　「はい、その通りです」藤田は頷く。「だから、まずテスト自動化から始めます。既存システムの振る舞いを、テストケースとして記録する。それを新システムの品質保証に...」

　「なるほど」山田の目が輝き始めた。「テストファーストで進めれば...」

　「レガシーシステムの知見も、テストケースとして残せる」高橋も賛同する。

　その時、ドアが開いた。

　「おや、みんな揃ってるじゃないか」

　田中が入ってきた。COBOLのベテランエンジニアだ。

　「田中さん」山田が声をかける。「ちょうどいい所に」

　「ふむ」田中はホワイトボードを眺める。「システム再構築の話かな？」

　「はい。特に、COBOLシステムとの連携部分で...」

　「あぁ、あの厄介な文字コード変換ね」田中は懐かしそうに笑う。「実は、私も若い頃、同じような課題に直面したんだ」

　全員の視線が、田中に集中する。

　「当時は、まだオンラインシステムが珍しい時代。バッチ処理からリアルタイム処理への移行期で...」

　田中は、古い手帳を取り出した。

　「これが、当時作った設計書だ。特に、文字コード変換の部分は、かなり苦労して...」

　「田中さん！」藤田が声を上げる。「その設計書、デジタル化させてください。今の私たちにも、きっと参考に...」

　「ああ、もちろん」田中は微笑む。「でも、その前に、君たちの新しい設計も見せてほしい。古い知恵と新しい技術の、いいとこ取りができればね」

　＊

　その日の夜遅く、システム開発部のオフィスには、まだ明かりが灯っていた。

　山田のデスクでは、田中の古い設計書がスキャンされ、デジタル化されていく。高橋は、その内容をテストケースに落とし込んでいた。藤田は、新しいアーキテクチャの図を清書している。

　「ねぇ」高橋が呟く。「この負の遺産、私たちの世代で清算できるかな」

　「できるわ」山田は確信を持って答えた。「だって、私たちには過去の知恵と、未来の技術が、両方あるんだから」

　窓の外では、新しい朝の気配が感じられ始めていた。
